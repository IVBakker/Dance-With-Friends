<!DOCTYPE html>
<html>
  <head>
    <title>Dance with Friends</title>
    <!-- Bootstrap -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet/less" type="text/css" href="static/less/styles.less">
    <script src="static/js/lib/less.min.js" type="text/javascript"></script>
    <script src="static/js/lib/vision.js" type="text/javascript"></script>
    
  </head>
  <body>

    <div id="fb-root"></div>
    <div class="container-fluid game-container">
      <div class="row-fluid game-container">
        <div class="span3 left-pane pane">
          <div id="user-meta-container"></div>
        </div>
        <div class="span9 right-pane pane">
          <div id="game-container">
            <video id="webcam" autoplay width="640" height="480"></video>
            <img id="arrow0" src="static/img/left_zone.png"/>
            <img id="arrow1" src="static/img/right_zone.png"/>
            <img id="arrow2" src="static/img/left_zone.png"/>
            <canvas id="canvas-source" width="640" height="480"></canvas>
            <canvas id="canvas-blended" width="640" height="480"></canvas>
            <div id="arrow-spots">
              <div class="span4 spot-container">
                  <div id="left-spot-arrow" class="left-spot spot"> </div>
              </div>
              <div class="span4 spot-container">
                <div id="down-spot-arrow" class= "down-spot spot"> </div>
              </div>
              <div class="span4 spot-container">
                <div id="right-spot-arrow" class="right-spot spot"> </div>
              </div>
            </div>
            <div id="exclamation"></div>
            <div id="arrows-container">
              <div class="row-fluid full-container">
                <div id="left-arrows" class="span4 arrow-lane"> </div>

                <div id="down-arrows" class="span4 arrow-lane"> </div>
                <!--<div id="up-arrows" class="span4 arrow-lane"> </div> -->
                <div id="right-arrows" class="span4 arrow-lane"> </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script data-main="static/js/app/main" src="static/js/lib/require.min.js"></script>
    <script type="template" id="template-arrow">
      <div class="arrow <%= klass %>">
      </div>
    </script>
    <script type="template" id="template-usermeta">
      <h2 class="score">
        Score: <%= score %>
        <p> Perfect <%= perfect %></p>
        <p> Great <%= great %></p>
        <p> Good <%= good %></p>
        <p> Bad <%= bad %></p>
      </h2>
      <h2> Leaderboard </h2>
      <table class="table table-striped leaderboard">
        <% _.each(players, function(player) { %>
          <tr> 
            <td><img class="profile-pic" src="<%= player.pic %>"></img></td>
            <td><%= player.name %></td>
            <td><%= player.score %></td>
          </tr>
        <% }); %>
      </table>
    </script>
    <script type="text/javascript">
      window.userName = "{{= fbName }}";
      window.userId = "{{= fbId }}";
      window.userPic = "{{= fbPic }}";
      window.hostname = "{{= hostname }}";
      window.socketPort = "{{= socketPort }}";
    </script>
  </body>
</html>
